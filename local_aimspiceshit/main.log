
                 *********************************************
                 *                                           *
                 *             A I M - S p i c e             *
                 *                                           *
                 *         Professional Version 2020.100           *
                 *                                           *
                 *********************************************

	Date: Tue Oct 27 14:40:14 2020
	Circuit File: C:\Users\Sigurd\OneDrive - NTNU\elsys\semester5\ic\ic_project\local_aimspiceshit\main.cir
	Analysis: Transient

**************************  Circuit Description  **************************

     1:  * Pixel subcircuit
     2:  
     3:  *include model_files/p18_cmos_models_tt.inc
     4:  .param proc_delta = 1.0
     5:  .param vt_shift = 0.0
     6:  *include model_files/p18_model_card.inc
     7:  * p18 model card
     8:  .MODEL NMOS NMOS  								
     9:  + VERSION	=	3.1						
    10:  + LEVEL	=	49	NOIMOD	=	1	TNOM	=	2.70E+01
    11:  + TOX	=	'4.1E-9/proc_delta'	XJ	=	1.00E-07	NCH	=	2.33E+17
    12:  + VTH0	=	'0.36+vt_shift'	K1	=	5.84E-01	K2	=	4.14E-03
    13:  + K3	=	1.01E-03	K3B	=	2.20E+00	W0	=	1.00E-07
    14:  + NLX	=	1.81E-07	DVT0W	=	0.00E+00	DVT1W	=	0.00E+00
    15:  + DVT2W	=	0.00E+00	DVT0	=	1.73E+00	DVT1	=	4.38E-01
    16:  + DVT2	=	-3.70E-04	U0	=	'260*proc_delta*proc_delta'	UA	=	-1.38E-09
    17:  + UB	=	2.26E-18	UC	=	5.46E-11	VSAT	=	1.03E+05
    18:  + A0	=	1.92E+00	AGS	=	4.20E-01	B0	=	-1.52E-09
    19:  + B1	=	-9.92E-08	KETA	=	-7.16E-03	A1	=	6.61E-04
    20:  + A2	=	8.89E-01	RDSW	=	1.12E+02	PRWG	=	4.92E-01
    21:  + PRWB	=	-2.02E-01	WR	=	1.00E+00	WINT	=	7.12E-09
    22:  + LINT	=	1.12E-08	XL	=	-2.00E-08	XW	=	-1.00E-08
    23:  + DWG	=	-3.82E-09	DWB	=	8.63E-09	VOFF	=	-8.82E-02
    24:  + NFACTOR	=	2.30E+00	CIT	=	0.00E+00	CDSC	=	2.40E-04
    25:  + CDSCD	=	0.00E+00	CDSCB	=	0.00E+00	ETA0	=	3.13E-03
    26:  + ETAB	=	1.00E+00	DSUB	=	2.25E-02	PCLM	=	7.20E-01
    27:  + PDIBLC1	=	2.15E-01	PDIBLC2	=	2.23E-03	PDIBLCB	=	1.00E-01
    28:  + DROUT	=	8.01E-01	PSCBE1	=	5.44E+08	PSCBE2	=	1.00E-03
    29:  + PVAG	=	1.00E-12	DELTA	=	1.00E-02	RSH	=	6.78E+00
    30:  + MOBMOD	=	1.00E+00	PRT	=	0.00E+00	UTE	=	-1.50E+00
    31:  + KT1	=	-1.10E-01	KT1L	=	0.00E+00	KT2	=	2.19E-02
    32:  + UA1	=	4.28E-09	UB1	=	-7.62E-18	UC1	=	-5.57E-11
    33:  + AT	=	3.30E+04	WL	=	0.00E+00	WLN	=	1.00E+00
    34:  + WW	=	0.00E+00	WWN	=	1.00E+00	WWL	=	0.00E+00
    35:  + LL	=	0.00E+00	LLN	=	1.00E+00	LW	=	0.00E+00
    36:  + LWN	=	1.00E+00	LWL	=	0.00E+00	CAPMOD	=	2.00E+00
    37:  + XPART	=	5.00E-01	CGDO	=	6.98E-10	CGSO	=	7.03E-10
    38:  + CGBO	=	1.00E-12	CJ	=	'9.8e-4/proc_delta'	PB	=	7.34E-01
    39:  + MJ	=	3.63E-01	CJSW	=	'2.4e-10/proc_delta'	PBSW	=	4.71E-01
    40:  + MJSW	=	1.00E-01	CJSWG	=	3.29E-10	PBSWG	=	4.66E-01
    41:  + MJSWG	=	1.00E-01	CF	=	0.00E+00	PVTH0	=	-7.16E-04
    42:  + PRDSW	=	-6.66E-01	PK2	=	5.92E-04	WKETA	=	2.14E-04
    43:  + LKETA	=	-1.51E-02	PU0	=	3.36E+00	PUA	=	-1.31E-11
    44:  + PUB	=	0.00E+00	PVSAT	=	1.25E+03	PETA0	=	1.00E-04
    45:  + PKETA	=	6.45E-04	KF	=	4.46E-29			
    46:  								
    47:  .MODEL PMOS PMOS  								
    48:  + VERSION	=	3.1						
    49:  + LEVEL	=	49	NOIMOD	=	1			
    50:  + TNOM	=	2.70E+01	TOX	=	'4.1E-9/proc_delta'	XJ	=	1.00E-07
    51:  + NCH	=	4.12E+17	VTH0	=	'-0.39-vt_shift'	K1	=	5.50E-01
    52:  + K2	=	3.50E-02	K3	=	0.00E+00	K3B	=	1.20E+01
    53:  + W0	=	1.00E-06	NLX	=	1.25E-07	DVT0W	=	0.00E+00
    54:  + DVT1W	=	0.00E+00	DVT2W	=	0.00E+00	DVT0	=	5.53E-01
    55:  + DVT1	=	2.46E-01	DVT2	=	1.00E-01	U0	=	'110*proc_delta*proc_delta'
    56:  + UA	=	1.44E-09	UB	=	2.29E-21	UC	=	-1.00E-10
    57:  + VSAT	=	1.95E+05	A0	=	1.72E+00	AGS	=	3.80E-01
    58:  + B0	=	5.87E-07	B1	=	1.44E-06	KETA	=	2.21E-02
    59:  + A1	=	4.66E-01	A2	=	3.00E-01	RDSW	=	3.11E+02
    60:  + PRWG	=	5.00E-01	PRWB	=	1.64E-02	WR	=	1.00E+00
    61:  + WINT	=	0.00E+00	LINT	=	2.00E-08	XL	=	-2.00E-08
    62:  + XW	=	-1.00E-08	DWG	=	-3.49E-08	DWB	=	1.22E-09
    63:  + VOFF	=	-9.80E-02	NFACTOR	=	2.00E+00	CIT	=	0.00E+00
    64:  + CDSC	=	2.40E-04	CDSCD	=	0.00E+00	CDSCB	=	0.00E+00
    65:  + ETA0	=	1.12E-03	ETAB	=	-4.79E-04	DSUB	=	1.60E-03
    66:  + PCLM	=	1.50E+00	PDIBLC1	=	3.00E-02	PDIBLC2	=	-1.01E-05
    67:  + PDIBLCB	=	1.00E-01	DROUT	=	1.56E-03	PSCBE1	=	4.91E+09
    68:  + PSCBE2	=	1.64E-09	PVAG	=	3.48E+00	DELTA	=	1.00E-02
    69:  + RSH	=	7.69E+00	MOBMOD	=	1.00E+00	PRT	=	0.00E+00
    70:  + UTE	=	-1.49E+00	KT1	=	-1.09E-01	KT1L	=	0.00E+00
    71:  + KT2	=	2.18E-02	UA1	=	4.27E-09	UB1	=	-7.68E-18
    72:  + UC1	=	-5.57E-11	AT	=	3.31E+04	WL	=	0.00E+00
    73:  + WLN	=	1.00E+00	WW	=	0.00E+00	WWN	=	1.00E+00
    74:  + WWL	=	0.00E+00	LL	=	0.00E+00	LLN	=	1.00E+00
    75:  + LW	=	0.00E+00	LWN	=	1.00E+00	LWL	=	0.00E+00
    76:  + CAPMOD	=	2.00E+00	XPART	=	5.00E-01	CGDO	=	6.88E-10
    77:  + CGSO	=	6.85E-10	CGBO	=	1.00E-12	CJ	=	'1.2e-3/proc_delta'
    78:  + PB	=	8.70E-01	MJ	=	4.20E-01	CJSW	=	'2.4e-10/proc_delta'
    79:  + PBSW	=	8.00E-01	MJSW	=	3.57E-01	CJSWG	=	4.24E-10
    80:  + PBSWG	=	8.00E-01	MJSWG	=	3.56E-01	CF	=	0.00E+00
    81:  + PVTH0	=	3.53E-03	PRDSW	=	1.02E+01	PK2	=	3.35E-03
    82:  + WKETA	=	3.52E-02	LKETA	=	-2.06E-03	PU0	=	-2.19E+00
    83:  + PUA	=	-7.63E-11	PUB	=	9.91E-22	PVSAT	=	5.00E+01
    84:  + PKETA	=	-6.41E-03	KF	=	1.29E-29	PETA0	=	7.31E-05
    85:  
    86:  *end of: model_files/p18_model_card.inc
    87:  *end of: model_files/p18_cmos_models_tt.inc
    88:  *include model_files/PhotoDiode.cir
    89:  * Photodiode circuit
    90:  
    91:  .param Ipd_1 = 750p
    92:  
    93:  .subckt PhotoDiode  VDD N1_R1C1 
    94:  I1_R1C1  VDD   N1_R1C1   DC  Ipd_1            ! Photo current source
    95:  d1 N1_R1C1 VDD dwell 1                        ! Reverse biased Diode
    96:  .model dwell d cj0=1e-14 is=1e-12 m=0.5 bv=40 ! Diode model
    97:  Cd1 N1_R1C1 VDD 30f                           ! Photo diode capacitor
    98:  .ends
    99:  *end of: model_files/PhotoDiode.cir
   100:  
   101:  .param minW 1.08u
   102:  .param maxW 5.04u
   103:  .param maxL 1.08u
   104:  .param minL 0.36u
   105:  
   106:  .param M1W minW
   107:  .param M1L maxL
   108:  .param M2W minW
   109:  .param M2L maxL
   110:  .param M3W maxW
   111:  .param M3L minL
   112:  .param M4W minW
   113:  .param M4L maxL
   114:  
   115:  .param MCW minW
   116:  .param MCL maxL
   117:  .param CC_value 3p
   118:  
   119:  .param CS_value 2p
   120:  
   121:  .subckt pixel VDD VSS EXPOSE ERASE NRE OUT N2
   122:  xPhotoDiode VDD 1 PhotoDiode
   123:  * How to make NMOS: MX drain gate source bulk NMOS W= L=
   124:  M1 1 EXPOSE N2 VSS NMOS W=M1W L=M1L
   125:  M2 N2 ERASE VSS VSS NMOS W=M2W L=M2L
   126:  
   127:  * How to make capacitor: CX node1 node2 value
   128:  CS N2 VSS CS_value
   129:  
   130:  * How to make PMOS: MX source gate drain bulk PMOS W= L=
   131:  M3 3 N2 VSS VDD PMOS W=M3W L=M3L
   132:  M4 OUT NRE 3 VDD PMOS W=M4W L=M3L
   133:  .ends
   134:  
   135:  .subckt load VDD VSS OUT
   136:  MC VDD OUT OUT VDD PMOS W=MCW L=MCL
   137:  CC OUT VSS CC_value
   138:  .ends
   139:  
   140:  * xPixelTest 1 0 2 3 4 5 6 pixel
   141:  xPixel11 1 0 2 3 4 6  8 pixel
   142:  xPixel12 1 0 2 3 4 7  9 pixel
   143:  xPixel21 1 0 2 3 5 6 10 pixel
   144:  xPixel22 1 0 2 3 5 7 11 pixel
   145:  
   146:  xLoad1 1 0 6 load
   147:  xLoad2 1 0 7 load
   148:  
   149:  VDD 1 0 dc 1.8v
   150:  * How to make pulse: Vname N1 N2 PULSE(V1 V2 TD Tr Tf PW Period)
   151:  * V1 - initial voltage; V2 - peak voltage; TD - initial delay time; Tr - rise time; Tf - fall time; pwf - pulse-wise; and Period - period.
   152:  vEXPOSE 2 0 pulse(0v 1.8v 1m 30u 30u 30m 40m)
   153:  vERASE  3 0 pulse(0v 1.8V 0m 30u 30u 1m 40m)
   154:  
   155:  vNRE1 4 0 dc 1.8v
   156:  vNRE2 5 0 dc 0v
   157:  
   158:  * How to make transient analysis: .TRAN TSTEP TSTOP
   159:  .plot TRAN V(6) V(7)
   160:  
   161:  .tran 100n 40m

***************************  Model Parameters  ****************************


***************  Device Parameters (Only for .op analysis)  ***************



**************************  Analysis Parameters  **************************

	Stepsize ............ : 100n
	Final time .......... : 40m
	Use Initial Conditions: Off



**************  Options (Only those different from default)  **************



*************************  Simulation Statistics  *************************

	Total number of iterations.....................: 316
	Number of iterations for transient analysis....: 293
	Total number of timepoints.....................: 122
	Number of timepoints accepted..................: 114
	Number of timepoints rejected..................: 8
	Total analysis time (sec)......................: 0.015
	Transient analysis time (sec)..................: 0.013
	Time spent in device loading (sec).............: 0.003
	Time spent in L-U decomposition (sec)..........: 0.002
	Time spent in matrix reordering (sec)..........: 0
	Time spent in matrix solving (sec).............: 0.001
	Time spent in transient L-U decomposition (sec): 0.002
	Time spent in transient matrix solving (sec)...: 0.001

***************************  Kernel Messages  *****************************

Circuit: * Pixel subcircuit

Warning: premature EOF
Warning: parameter xl not supported; value ignored
Warning: parameter xw not supported; value ignored
Warning: parameter xl not supported; value ignored
Warning: parameter xw not supported; value ignored
Warning: Pd = 0 is less than W for m:load2:c in model pmos.
Warning: Ps = 0 is less than W for m:load2:c in model pmos.
Warning: Pd = 0 is less than W for m:pixel22:4 in model pmos.
Warning: Ps = 0 is less than W for m:pixel22:4 in model pmos.
Warning: Pd = 0 is less than W for m:pixel22:3 in model pmos.
Warning: Ps = 0 is less than W for m:pixel22:3 in model pmos.
Warning: Pd = 0 is less than W for m:pixel22:2 in model nmos.
Warning: Ps = 0 is less than W for m:pixel22:2 in model nmos.
Warning: verase: no DC value, transient time 0 value used
Warning: vexpose: no DC value, transient time 0 value used
Warning: verase: no DC value, transient time 0 value used
Warning: vexpose: no DC value, transient time 0 value used

